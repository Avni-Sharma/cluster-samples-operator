{
    "apiVersion": "v1",
    "kind": "Template",
    "labels": {
        "rhpam": "1.2",
        "template": "rhpam70-kieserver-postgresql"
    },
    "message": "A new environment has been set up for Red Hat Process Automation Manager 7. The username/password for accessing the KIE server is ${KIE_SERVER_USER}/${KIE_SERVER_PWD}.",
    "metadata": {
        "annotations": {
            "description": "Application template for a managed KIE server with a PostgreSQL database, for Red Hat Process Automation Manager 7.0",
            "iconClass": "icon-jboss",
            "openshift.io/display-name": "Red Hat Process Automation Manager 7.0 managed KIE server with a PostgreSQL database",
            "tags": "rhpam,jboss,kieserver,postgresql",
            "template.openshift.io/bindable": "false",
            "version": "1.2"
        },
        "name": "rhpam70-kieserver-postgresql"
    },
    "objects": [
        {
            "apiVersion": "v1",
            "kind": "ServiceAccount",
            "metadata": {
                "labels": {
                    "application": "${APPLICATION_NAME}"
                },
                "name": "${APPLICATION_NAME}-kieserver"
            }
        },
        {
            "apiVersion": "v1",
            "kind": "RoleBinding",
            "metadata": {
                "name": "${APPLICATION_NAME}-kieserver-view"
            },
            "roleRef": {
                "name": "view"
            },
            "subjects": [
                {
                    "kind": "ServiceAccount",
                    "name": "${APPLICATION_NAME}-kieserver"
                }
            ]
        },
        {
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
                "annotations": {
                    "description": "All the KIE server web server's ports."
                },
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-kieserver"
                },
                "name": "${APPLICATION_NAME}-kieserver"
            },
            "spec": {
                "ports": [
                    {
                        "name": "http",
                        "port": 8080,
                        "targetPort": 8080
                    },
                    {
                        "name": "https",
                        "port": 8443,
                        "targetPort": 8443
                    }
                ],
                "selector": {
                    "deploymentConfig": "${APPLICATION_NAME}-kieserver"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
                "annotations": {
                    "description": "The JGroups ping port for clustering.",
                    "service.alpha.kubernetes.io/tolerate-unready-endpoints": "true"
                },
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-kieserver"
                },
                "name": "${APPLICATION_NAME}-kieserver-ping"
            },
            "spec": {
                "clusterIP": "None",
                "ports": [
                    {
                        "name": "ping",
                        "port": 8888
                    }
                ],
                "selector": {
                    "deploymentConfig": "${APPLICATION_NAME}-kieserver"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "Service",
            "metadata": {
                "annotations": {
                    "description": "The database server's port."
                },
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-postgresql"
                },
                "name": "${APPLICATION_NAME}-postgresql"
            },
            "spec": {
                "ports": [
                    {
                        "port": 5432,
                        "targetPort": 5432
                    }
                ],
                "selector": {
                    "deploymentConfig": "${APPLICATION_NAME}-postgresql"
                }
            }
        },
        {
            "apiVersion": "v1",
            "id": "${APPLICATION_NAME}-kieserver-http",
            "kind": "Route",
            "metadata": {
                "annotations": {
                    "description": "Route for KIE server's http service."
                },
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-kieserver"
                },
                "name": "${APPLICATION_NAME}-kieserver"
            },
            "spec": {
                "host": "${EXECUTION_SERVER_HOSTNAME_HTTP}",
                "port": {
                    "targetPort": "http"
                },
                "to": {
                    "name": "${APPLICATION_NAME}-kieserver"
                }
            }
        },
        {
            "apiVersion": "v1",
            "id": "${APPLICATION_NAME}-kieserver-https",
            "kind": "Route",
            "metadata": {
                "annotations": {
                    "description": "Route for KIE server's https service."
                },
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-kieserver"
                },
                "name": "secure-${APPLICATION_NAME}-kieserver"
            },
            "spec": {
                "host": "${EXECUTION_SERVER_HOSTNAME_HTTPS}",
                "port": {
                    "targetPort": "https"
                },
                "tls": {
                    "termination": "passthrough"
                },
                "to": {
                    "name": "${APPLICATION_NAME}-kieserver"
                }
            }
        },
        {
            "apiVersion": "v1",
            "kind": "DeploymentConfig",
            "metadata": {
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-kieserver"
                },
                "name": "${APPLICATION_NAME}-kieserver"
            },
            "spec": {
                "replicas": 1,
                "selector": {
                    "deploymentConfig": "${APPLICATION_NAME}-kieserver"
                },
                "strategy": {
                    "type": "Recreate"
                },
                "template": {
                    "metadata": {
                        "labels": {
                            "application": "${APPLICATION_NAME}",
                            "deploymentConfig": "${APPLICATION_NAME}-kieserver",
                            "service": "${APPLICATION_NAME}-kieserver"
                        },
                        "name": "${APPLICATION_NAME}-kieserver"
                    },
                    "spec": {
                        "containers": [
                            {
                                "env": [
                                    {
                                        "name": "DROOLS_SERVER_FILTER_CLASSES",
                                        "value": "${DROOLS_SERVER_FILTER_CLASSES}"
                                    },
                                    {
                                        "name": "KIE_ADMIN_USER",
                                        "value": "${KIE_ADMIN_USER}"
                                    },
                                    {
                                        "name": "KIE_ADMIN_PWD",
                                        "value": "${KIE_ADMIN_PWD}"
                                    },
                                    {
                                        "name": "KIE_MBEANS",
                                        "value": "${KIE_MBEANS}"
                                    },
                                    {
                                        "name": "KIE_SERVER_BYPASS_AUTH_USER",
                                        "value": "${KIE_SERVER_BYPASS_AUTH_USER}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_USER",
                                        "value": "${KIE_SERVER_CONTROLLER_USER}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_PWD",
                                        "value": "${KIE_SERVER_CONTROLLER_PWD}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_SERVICE",
                                        "value": "${KIE_SERVER_CONTROLLER_SERVICE}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_HOST",
                                        "value": "${KIE_SERVER_CONTROLLER_HOST}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_PORT",
                                        "value": "${KIE_SERVER_CONTROLLER_PORT}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_PROTOCOL",
                                        "value": "${KIE_SERVER_CONTROLLER_PROTOCOL}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_TOKEN",
                                        "value": "${KIE_SERVER_CONTROLLER_TOKEN}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTROLLER_PROTOCOL",
                                        "value": "ws"
                                    },
                                    {
                                        "name": "KIE_SERVER_ID",
                                        "value": "${KIE_SERVER_ID}"
                                    },
                                    {
                                        "name": "KIE_SERVER_HOST",
                                        "value": "${EXECUTION_SERVER_HOSTNAME_HTTP}"
                                    },
                                    {
                                        "name": "EXECUTION_SERVER_ROUTE_NAME",
                                        "value": "${APPLICATION_NAME}-kieserver"
                                    },
                                    {
                                        "name": "EXECUTION_SERVER_USE_SECURE_ROUTE_NAME",
                                        "value": "${EXECUTION_SERVER_USE_SECURE_ROUTE_NAME}"
                                    },
                                    {
                                        "name": "KIE_SERVER_USER",
                                        "value": "${KIE_SERVER_USER}"
                                    },
                                    {
                                        "name": "KIE_SERVER_PWD",
                                        "value": "${KIE_SERVER_PWD}"
                                    },
                                    {
                                        "name": "KIE_SERVER_CONTAINER_DEPLOYMENT",
                                        "value": "${KIE_SERVER_CONTAINER_DEPLOYMENT}"
                                    },
                                    {
                                        "name": "MAVEN_REPOS",
                                        "value": "RHPAMCENTR,EXTERNAL"
                                    },
                                    {
                                        "name": "RHPAMCENTR_MAVEN_REPO_SERVICE",
                                        "value": "${BUSINESS_CENTRAL_MAVEN_SERVICE}"
                                    },
                                    {
                                        "name": "RHPAMCENTR_MAVEN_REPO_PATH",
                                        "value": "/maven2/"
                                    },
                                    {
                                        "name": "RHPAMCENTR_MAVEN_REPO_USERNAME",
                                        "value": "${BUSINESS_CENTRAL_MAVEN_USERNAME}"
                                    },
                                    {
                                        "name": "RHPAMCENTR_MAVEN_REPO_PASSWORD",
                                        "value": "${BUSINESS_CENTRAL_MAVEN_PASSWORD}"
                                    },
                                    {
                                        "name": "EXTERNAL_MAVEN_REPO_URL",
                                        "value": "${MAVEN_REPO_URL}"
                                    },
                                    {
                                        "name": "EXTERNAL_MAVEN_REPO_USERNAME",
                                        "value": "${MAVEN_REPO_USERNAME}"
                                    },
                                    {
                                        "name": "EXTERNAL_MAVEN_REPO_PASSWORD",
                                        "value": "${MAVEN_REPO_PASSWORD}"
                                    },
                                    {
                                        "name": "KIE_SERVER_ROUTER_SERVICE",
                                        "value": "${KIE_SERVER_ROUTER_SERVICE}"
                                    },
                                    {
                                        "name": "KIE_SERVER_ROUTER_HOST",
                                        "value": "${KIE_SERVER_ROUTER_HOST}"
                                    },
                                    {
                                        "name": "KIE_SERVER_ROUTER_PORT",
                                        "value": "${KIE_SERVER_ROUTER_PORT}"
                                    },
                                    {
                                        "name": "KIE_SERVER_ROUTER_PROTOCOL",
                                        "value": "${KIE_SERVER_ROUTER_PROTOCOL}"
                                    },
                                    {
                                        "name": "KIE_SERVER_MGMT_DISABLED",
                                        "value": "${KIE_SERVER_MGMT_DISABLED}"
                                    },
                                    {
                                        "name": "KIE_SERVER_STARTUP_STRATEGY",
                                        "value": "${KIE_SERVER_STARTUP_STRATEGY}"
                                    },
                                    {
                                        "name": "KIE_SERVER_PERSISTENCE_DS",
                                        "value": "${KIE_SERVER_PERSISTENCE_DS}"
                                    },
                                    {
                                        "name": "DATASOURCES",
                                        "value": "RHPAM"
                                    },
                                    {
                                        "name": "RHPAM_DATABASE",
                                        "value": "${KIE_SERVER_POSTGRESQL_DB}"
                                    },
                                    {
                                        "name": "RHPAM_DRIVER",
                                        "value": "postgresql"
                                    },
                                    {
                                        "name": "RHPAM_USERNAME",
                                        "value": "${KIE_SERVER_POSTGRESQL_USER}"
                                    },
                                    {
                                        "name": "RHPAM_PASSWORD",
                                        "value": "${KIE_SERVER_POSTGRESQL_PWD}"
                                    },
                                    {
                                        "name": "RHPAM_SERVICE_HOST",
                                        "value": "${APPLICATION_NAME}-postgresql"
                                    },
                                    {
                                        "name": "RHPAM_SERVICE_PORT",
                                        "value": "5432"
                                    },
                                    {
                                        "name": "TIMER_SERVICE_DATA_STORE",
                                        "value": "${APPLICATION_NAME}-postgresql"
                                    },
                                    {
                                        "name": "KIE_SERVER_PERSISTENCE_DIALECT",
                                        "value": "org.hibernate.dialect.PostgreSQLDialect"
                                    },
                                    {
                                        "name": "RHPAM_JTA",
                                        "value": "true"
                                    },
                                    {
                                        "name": "RHPAM_JNDI",
                                        "value": "${KIE_SERVER_PERSISTENCE_DS}"
                                    },
                                    {
                                        "name": "TIMER_SERVICE_DATA_STORE_REFRESH_INTERVAL",
                                        "value": "${TIMER_SERVICE_DATA_STORE_REFRESH_INTERVAL}"
                                    },
                                    {
                                        "name": "HTTPS_KEYSTORE_DIR",
                                        "value": "/etc/kieserver-secret-volume"
                                    },
                                    {
                                        "name": "HTTPS_KEYSTORE",
                                        "value": "${KIE_SERVER_HTTPS_KEYSTORE}"
                                    },
                                    {
                                        "name": "HTTPS_NAME",
                                        "value": "${KIE_SERVER_HTTPS_NAME}"
                                    },
                                    {
                                        "name": "HTTPS_PASSWORD",
                                        "value": "${KIE_SERVER_HTTPS_PASSWORD}"
                                    },
                                    {
                                        "name": "JGROUPS_PING_PROTOCOL",
                                        "value": "openshift.DNS_PING"
                                    },
                                    {
                                        "name": "OPENSHIFT_DNS_PING_SERVICE_NAME",
                                        "value": "${APPLICATION_NAME}-kieserver-ping"
                                    },
                                    {
                                        "name": "OPENSHIFT_DNS_PING_SERVICE_PORT",
                                        "value": "8888"
                                    }
                                ],
                                "image": "${KIE_SERVER_IMAGE_STREAM_NAME}",
                                "imagePullPolicy": "Always",
                                "livenessProbe": {
                                    "exec": {
                                        "command": [
                                            "/bin/bash",
                                            "-c",
                                            "curl --fail --silent -u '${KIE_ADMIN_USER}:${KIE_ADMIN_PWD}' http://localhost:8080/services/rest/server/healthcheck"
                                        ]
                                    },
                                    "failureThreshold": 3,
                                    "initialDelaySeconds": 180,
                                    "periodSeconds": 15,
                                    "timeoutSeconds": 2
                                },
                                "name": "${APPLICATION_NAME}-kieserver",
                                "ports": [
                                    {
                                        "containerPort": 8778,
                                        "name": "jolokia",
                                        "protocol": "TCP"
                                    },
                                    {
                                        "containerPort": 8080,
                                        "name": "http",
                                        "protocol": "TCP"
                                    },
                                    {
                                        "containerPort": 8443,
                                        "name": "https",
                                        "protocol": "TCP"
                                    },
                                    {
                                        "containerPort": 8888,
                                        "name": "ping",
                                        "protocol": "TCP"
                                    }
                                ],
                                "readinessProbe": {
                                    "exec": {
                                        "command": [
                                            "/bin/bash",
                                            "-c",
                                            "curl --fail --silent -u '${KIE_ADMIN_USER}:${KIE_ADMIN_PWD}' http://localhost:8080/services/rest/server/readycheck"
                                        ]
                                    },
                                    "failureThreshold": 6,
                                    "initialDelaySeconds": 60,
                                    "periodSeconds": 30,
                                    "timeoutSeconds": 2
                                },
                                "resources": {
                                    "limits": {
                                        "memory": "${EXECUTION_SERVER_MEMORY_LIMIT}"
                                    }
                                },
                                "volumeMounts": [
                                    {
                                        "mountPath": "/etc/kieserver-secret-volume",
                                        "name": "kieserver-keystore-volume",
                                        "readOnly": true
                                    }
                                ]
                            }
                        ],
                        "serviceAccountName": "${APPLICATION_NAME}-kieserver",
                        "terminationGracePeriodSeconds": 60,
                        "volumes": [
                            {
                                "name": "kieserver-keystore-volume",
                                "secret": {
                                    "secretName": "${KIE_SERVER_HTTPS_SECRET}"
                                }
                            }
                        ]
                    }
                },
                "triggers": [
                    {
                        "imageChangeParams": {
                            "automatic": true,
                            "containerNames": [
                                "${APPLICATION_NAME}-kieserver"
                            ],
                            "from": {
                                "kind": "ImageStreamTag",
                                "name": "${KIE_SERVER_IMAGE_STREAM_NAME}:${IMAGE_STREAM_TAG}",
                                "namespace": "${IMAGE_STREAM_NAMESPACE}"
                            }
                        },
                        "type": "ImageChange"
                    },
                    {
                        "type": "ConfigChange"
                    }
                ]
            }
        },
        {
            "apiVersion": "v1",
            "kind": "DeploymentConfig",
            "metadata": {
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-postgresql"
                },
                "name": "${APPLICATION_NAME}-postgresql"
            },
            "spec": {
                "replicas": 1,
                "selector": {
                    "deploymentConfig": "${APPLICATION_NAME}-postgresql"
                },
                "strategy": {
                    "type": "Recreate"
                },
                "template": {
                    "metadata": {
                        "labels": {
                            "application": "${APPLICATION_NAME}",
                            "deploymentConfig": "${APPLICATION_NAME}-postgresql",
                            "service": "${APPLICATION_NAME}-postgresql"
                        },
                        "name": "${APPLICATION_NAME}-postgresql"
                    },
                    "spec": {
                        "containers": [
                            {
                                "env": [
                                    {
                                        "name": "POSTGRESQL_USER",
                                        "value": "${KIE_SERVER_POSTGRESQL_USER}"
                                    },
                                    {
                                        "name": "POSTGRESQL_PASSWORD",
                                        "value": "${KIE_SERVER_POSTGRESQL_PWD}"
                                    },
                                    {
                                        "name": "POSTGRESQL_DATABASE",
                                        "value": "${KIE_SERVER_POSTGRESQL_DB}"
                                    },
                                    {
                                        "name": "POSTGRESQL_MAX_PREPARED_TRANSACTIONS",
                                        "value": "${POSTGRESQL_MAX_PREPARED_TRANSACTIONS}"
                                    }
                                ],
                                "image": "postgresql",
                                "imagePullPolicy": "Always",
                                "livenessProbe": {
                                    "exec": {
                                        "command": [
                                            "/usr/libexec/check-container",
                                            "--live"
                                        ]
                                    },
                                    "initialDelaySeconds": 120,
                                    "timeoutSeconds": 10
                                },
                                "name": "${APPLICATION_NAME}-postgresql",
                                "ports": [
                                    {
                                        "containerPort": 5432,
                                        "protocol": "TCP"
                                    }
                                ],
                                "readinessProbe": {
                                    "exec": {
                                        "command": [
                                            "/usr/libexec/check-container"
                                        ]
                                    },
                                    "initialDelaySeconds": 5,
                                    "timeoutSeconds": 1
                                },
                                "volumeMounts": [
                                    {
                                        "mountPath": "/var/lib/pgsql/data",
                                        "name": "${APPLICATION_NAME}-postgresql-pvol"
                                    }
                                ]
                            }
                        ],
                        "terminationGracePeriodSeconds": 60,
                        "volumes": [
                            {
                                "name": "${APPLICATION_NAME}-postgresql-pvol",
                                "persistentVolumeClaim": {
                                    "claimName": "${APPLICATION_NAME}-postgresql-claim"
                                }
                            }
                        ]
                    }
                },
                "triggers": [
                    {
                        "imageChangeParams": {
                            "automatic": true,
                            "containerNames": [
                                "${APPLICATION_NAME}-postgresql"
                            ],
                            "from": {
                                "kind": "ImageStreamTag",
                                "name": "postgresql:${POSTGRESQL_IMAGE_STREAM_TAG}",
                                "namespace": "${IMAGE_STREAM_NAMESPACE}"
                            }
                        },
                        "type": "ImageChange"
                    },
                    {
                        "type": "ConfigChange"
                    }
                ]
            }
        },
        {
            "apiVersion": "v1",
            "kind": "PersistentVolumeClaim",
            "metadata": {
                "labels": {
                    "application": "${APPLICATION_NAME}",
                    "service": "${APPLICATION_NAME}-postgresql"
                },
                "name": "${APPLICATION_NAME}-postgresql-claim"
            },
            "spec": {
                "accessModes": [
                    "ReadWriteOnce"
                ],
                "resources": {
                    "requests": {
                        "storage": "${DB_VOLUME_CAPACITY}"
                    }
                }
            }
        }
    ],
    "parameters": [
        {
            "description": "The name for the application.",
            "displayName": "Application Name",
            "name": "APPLICATION_NAME",
            "required": true,
            "value": "myapp"
        },
        {
            "description": "Fully qualified URL to a Maven repository or service.",
            "displayName": "Maven repository URL",
            "example": "http://nexus.nexus-project.svc.cluster.local:8081/nexus/content/groups/public/",
            "name": "MAVEN_REPO_URL",
            "required": true
        },
        {
            "description": "Username to access the Maven repository, if required.",
            "displayName": "Maven repository username",
            "name": "MAVEN_REPO_USERNAME",
            "required": false
        },
        {
            "description": "Password to access the Maven repository, if required.",
            "displayName": "Maven repository password",
            "name": "MAVEN_REPO_PASSWORD",
            "required": false
        },
        {
            "description": "The service name for the optional business central, where it can be reached, to allow service lookups (for maven repo usage), if required",
            "displayName": "Name of the Maven service hosted by Business Central",
            "example": "myapp-rhpamcentr",
            "name": "BUSINESS_CENTRAL_MAVEN_SERVICE",
            "required": false
        },
        {
            "description": "Username to access the Maven service hosted by Business Central inside EAP.",
            "displayName": "Username for the Maven service hosted by Business Central",
            "example": "mavenUser",
            "name": "BUSINESS_CENTRAL_MAVEN_USERNAME",
            "required": false
        },
        {
            "description": "Password to access the Maven service hosted by Business Central inside EAP.",
            "displayName": "Password for the Maven service hosted by Business Central",
            "example": "maven1!",
            "name": "BUSINESS_CENTRAL_MAVEN_PASSWORD",
            "required": false
        },
        {
            "description": "KIE administrator username",
            "displayName": "KIE Admin User",
            "name": "KIE_ADMIN_USER",
            "required": false,
            "value": "adminUser"
        },
        {
            "description": "KIE administrator password",
            "displayName": "KIE Admin Password",
            "from": "[a-zA-Z]{6}[0-9]{1}!",
            "generate": "expression",
            "name": "KIE_ADMIN_PWD",
            "required": false
        },
        {
            "description": "The KIE server ID to use, which defaults to ${APPLICATION_NAME}-kieserver if not specified (Sets the org.kie.server.id system property).",
            "displayName": "KIE Server ID",
            "name": "KIE_SERVER_ID",
            "required": false
        },
        {
            "description": "KIE execution server username (Sets the org.kie.server.user system property)",
            "displayName": "KIE Server User",
            "name": "KIE_SERVER_USER",
            "required": false,
            "value": "executionUser"
        },
        {
            "description": "KIE execution server password (Sets the org.kie.server.pwd system property)",
            "displayName": "KIE Server Password",
            "from": "[a-zA-Z]{6}[0-9]{1}!",
            "generate": "expression",
            "name": "KIE_SERVER_PWD",
            "required": false
        },
        {
            "description": "Namespace in which the ImageStreams for Red Hat Middleware images are installed. These ImageStreams are normally installed in the openshift namespace. You should only need to modify this if you've installed the ImageStreams in a different namespace/project.",
            "displayName": "ImageStream Namespace",
            "name": "IMAGE_STREAM_NAMESPACE",
            "required": true,
            "value": "openshift"
        },
        {
            "description": "The name of the image stream to use for KIE Execution Server. Default is \"rhpam70-kieserver-openshift\".",
            "displayName": "KIE Server ImageStream Name",
            "name": "KIE_SERVER_IMAGE_STREAM_NAME",
            "required": true,
            "value": "rhpam70-kieserver-openshift"
        },
        {
            "description": "A named pointer to an image in an image stream. Default is \"1.2\".",
            "displayName": "ImageStream Tag",
            "name": "IMAGE_STREAM_TAG",
            "required": true,
            "value": "1.2"
        },
        {
            "description": "The service name for the optional smart router, where it can be reached, to allow smart routing",
            "displayName": "Smart Router Service",
            "name": "KIE_SERVER_ROUTER_SERVICE",
            "required": false
        },
        {
            "description": "The host name of the smart router, which could be the service name resolved by OpenShift or a globally resolvable domain name",
            "displayName": "Smart Router Host",
            "example": "myapp-smartrouter",
            "name": "KIE_SERVER_ROUTER_HOST",
            "required": false
        },
        {
            "description": "Port in which the smart router server listens (router property org.kie.server.router.port)",
            "displayName": "Smart Router listening port",
            "example": "9000",
            "name": "KIE_SERVER_ROUTER_PORT",
            "required": false
        },
        {
            "description": "KIE server router protocol (Used to build the org.kie.server.router.url.external property)",
            "displayName": "Smart Router protocol",
            "example": "http",
            "name": "KIE_SERVER_ROUTER_PROTOCOL",
            "required": false
        },
        {
            "description": "The service name for the optional business-central-monitor, where it can be reached and registered with, to allow monitoring console functionality",
            "displayName": "KIE Server Controller Service",
            "name": "KIE_SERVER_CONTROLLER_SERVICE",
            "required": false
        },
        {
            "description": "KIE server controller username (Sets the org.kie.server.controller.user system property)",
            "displayName": "KIE Server Controller User",
            "name": "KIE_SERVER_CONTROLLER_USER",
            "required": false,
            "value": "controllerUser"
        },
        {
            "description": "KIE server controller password (Sets the org.kie.server.controller.pwd system property)",
            "displayName": "KIE Server Controller Password",
            "name": "KIE_SERVER_CONTROLLER_PWD",
            "required": false
        },
        {
            "description": "KIE server controller host (Used to set the org.kie.server.controller system property)",
            "displayName": "KIE server controller host",
            "example": "my-app-controller-ocpuser.os.example.com",
            "name": "KIE_SERVER_CONTROLLER_HOST",
            "required": false
        },
        {
            "description": "KIE server controller port (Used to set the org.kie.server.controller system property)",
            "displayName": "KIE server controller port",
            "example": "8080",
            "name": "KIE_SERVER_CONTROLLER_PORT",
            "required": false
        },
        {
            "description": "KIE server controller protocol (Used to set the org.kie.server.controller system property)",
            "displayName": "KIE server controller protocol",
            "example": "http",
            "name": "KIE_SERVER_CONTROLLER_PROTOCOL",
            "required": false
        },
        {
            "description": "KIE server controller token for bearer authentication (Sets the org.kie.server.controller.token system property)",
            "displayName": "KIE Server controller token",
            "name": "KIE_SERVER_CONTROLLER_TOKEN",
            "required": false
        },
        {
            "description": "KIE execution server persistence datasource (Sets the org.kie.server.persistence.ds system property)",
            "displayName": "KIE Server Persistence DS",
            "name": "KIE_SERVER_PERSISTENCE_DS",
            "required": false,
            "value": "java:/jboss/datasources/rhpam"
        },
        {
            "description": "KIE execution server PostgreSQL database username",
            "displayName": "KIE Server PostgreSQL Database User",
            "name": "KIE_SERVER_POSTGRESQL_USER",
            "required": false,
            "value": "rhpam"
        },
        {
            "description": "KIE execution server PostgreSQL database password",
            "displayName": "KIE Server PostgreSQL Database Password",
            "from": "[a-zA-Z]{6}[0-9]{1}!",
            "generate": "expression",
            "name": "KIE_SERVER_POSTGRESQL_PWD",
            "required": false
        },
        {
            "description": "KIE execution server PostgreSQL database name",
            "displayName": "KIE Server PostgreSQL Database Name",
            "name": "KIE_SERVER_POSTGRESQL_DB",
            "required": false,
            "value": "rhpam7"
        },
        {
            "description": "The PostgreSQL image version, which is intended to correspond to the PostgreSQL version. Default is \"9.6\".",
            "displayName": "PostgreSQL ImageStream Tag",
            "name": "POSTGRESQL_IMAGE_STREAM_TAG",
            "value": "9.6"
        },
        {
            "description": "Allows the PostgreSQL to handle XA transactions.",
            "displayName": "PostgreSQL Database max prepared connections",
            "name": "POSTGRESQL_MAX_PREPARED_TRANSACTIONS",
            "required": true,
            "value": "100"
        },
        {
            "description": "Size of persistent storage for database volume.",
            "displayName": "Database Volume Capacity",
            "name": "DB_VOLUME_CAPACITY",
            "value": "1Gi"
        },
        {
            "description": "KIE execution server class filtering (Sets the org.drools.server.filter.classes system property)",
            "displayName": "Drools Server Filter Classes",
            "name": "DROOLS_SERVER_FILTER_CLASSES",
            "required": false,
            "value": "true"
        },
        {
            "description": "KIE execution server mbeans enabled/disabled (Sets the kie.mbeans and kie.scanner.mbeans system properties)",
            "displayName": "KIE MBeans",
            "name": "KIE_MBEANS",
            "required": false,
            "value": "enabled"
        },
        {
            "description": "Custom hostname for http service route, if set will also configure the KIE_SERVER_HOST. Leave blank for default hostname, e.g.: <application-name>-kieserver-<project>.<default-domain-suffix>",
            "displayName": "Execution Server Custom http Route Hostname",
            "name": "EXECUTION_SERVER_HOSTNAME_HTTP",
            "required": false,
            "value": ""
        },
        {
            "description": "Custom hostname for https service route.  Leave blank for default hostname, e.g.: secure-<application-name>-kieserver-<project>.<default-domain-suffix>",
            "displayName": "Execution Server Custom https Route Hostname",
            "name": "EXECUTION_SERVER_HOSTNAME_HTTPS",
            "required": false,
            "value": ""
        },
        {
            "description": "Use https for the KIE_SERVER_HOST when it is not explicit configured to a custom value.",
            "displayName": "Use the secure route name to set KIE_SERVER_HOST.",
            "name": "EXECUTION_SERVER_USE_SECURE_ROUTE_NAME",
            "required": false,
            "value": "false"
        },
        {
            "description": "The name of the secret containing the keystore file",
            "displayName": "KIE Server Keystore Secret Name",
            "example": "kieserver-app-secret",
            "name": "KIE_SERVER_HTTPS_SECRET",
            "required": true
        },
        {
            "description": "The name of the keystore file within the secret",
            "displayName": "KIE Server Keystore Filename",
            "name": "KIE_SERVER_HTTPS_KEYSTORE",
            "required": false,
            "value": "keystore.jks"
        },
        {
            "description": "The name associated with the server certificate",
            "displayName": "KIE Server Certificate Name",
            "name": "KIE_SERVER_HTTPS_NAME",
            "required": false,
            "value": "jboss"
        },
        {
            "description": "The password for the keystore and certificate",
            "displayName": "KIE Server Keystore Password",
            "name": "KIE_SERVER_HTTPS_PASSWORD",
            "required": false,
            "value": "mykeystorepass"
        },
        {
            "description": "KIE execution server bypass auth user (Sets the org.kie.server.bypass.auth.user system property)",
            "displayName": "KIE Server Bypass Auth User",
            "name": "KIE_SERVER_BYPASS_AUTH_USER",
            "required": false,
            "value": "false"
        },
        {
            "description": "Sets refresh-interval for the EJB timer database data-store service.",
            "displayName": "Timer service data store refresh interval (in milliseconds)",
            "name": "TIMER_SERVICE_DATA_STORE_REFRESH_INTERVAL",
            "required": false,
            "value": "30000"
        },
        {
            "description": "Execution Server Container memory limit",
            "displayName": "Execution Server Container Memory Limit",
            "name": "EXECUTION_SERVER_MEMORY_LIMIT",
            "required": false,
            "value": "1Gi"
        },
        {
            "description": "KIE Server Container deployment configuration in format: containerId=groupId:artifactId:version|c2=g2:a2:v2",
            "displayName": "KIE Server Container Deployment",
            "example": "rhpam-kieserver-library=org.openshift.quickstarts:rhpam-kieserver-library:1.4.0-SNAPSHOT",
            "name": "KIE_SERVER_CONTAINER_DEPLOYMENT",
            "required": false
        },
        {
            "description": "When set to LocalContainersStartupStrategy, allows KIE server to start up and function with local config, even when a controller is configured and unavailable",
            "displayName": "Disable KIE Server Management",
            "example": "true",
            "name": "KIE_SERVER_MGMT_DISABLED",
            "required": false
        },
        {
            "description": "When set to LocalContainersStartupStrategy, allows KIE server to start up and function with local config, even when a controller is configured and unavailable.",
            "displayName": "KIE Server Startup Strategy",
            "example": "LocalContainersStartupStrategy",
            "name": "KIE_SERVER_STARTUP_STRATEGY",
            "required": false
        }
    ]
}